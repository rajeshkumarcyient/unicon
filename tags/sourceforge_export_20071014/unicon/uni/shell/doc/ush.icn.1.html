<!-- Creator     : groff version 1.18.1 -->
<!-- CreationDate: Sat Oct 13 08:52:05 2007 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title>USH.ICN</title>
</head>
<body>

<h1 align=center>USH.ICN</h1>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#PORTABILITY">PORTABILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS AND LIMITATIONS">BUGS AND LIMITATIONS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>
<a name="NAME"></a>
<h2>NAME</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>ush.icn</b> &minus; Preprocessor for <b>shell.icn( 1
)</b>.</p>
</td>
</table>
<a name="SYNOPSIS"></a>
<h2>SYNOPSIS</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>Invoked from the command line:</p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="82%">
<p><b>ush</b> [-s ushpath]{0:N} [infile]{0:N}</p>
</td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>Invoked from <b>shell.icn( 1 )</b>:</p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="82%">
<p><b>ush</b> [out_co-expresion]{1:1} [result_list]{1:1}
[infile]{0:N}</p>
</td>
</table>
<a name="DESCRIPTION"></a>
<h2>DESCRIPTION</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>ush.icn</b> is an example implementation of a
preprocessor for <i>ad hoc</i> invocation of <b>shell.icn( 1
)</b> functionality &quot;on the fly&quot;. It is very
incomplete.</p>
<!-- INDENTATION -->
<p>At this time, <b>ush.icn</b> supports only two
functionalities:</p>
</td>
</table>
<!-- TABS -->
<table width="100%" border=0 rules="none" frame="void"
       cols="4" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="13%"></td>
<td width="1%">

<p>*</p>
</td>
<td width="2%"></td>
<td width="82%">

<p>Type lines one at a time for input into shell.icn
instead of reading them from a file. This is not
significantly different from invoking shell.icn without a -i
or -p argument.</p>
</td>
<tr valign="top" align="left">
<td width="13%"></td>
<td width="1%">

<p>*</p>
</td>
<td width="2%"></td>
<td width="82%">

<p>&quot;Sourcing a file as a shell.icn input script&quot;,
i.e., reading a shell.icn input script from a file and
sending it to an instance of shell.icn.</p>
</td>
</table>
<a name="OPTIONS"></a>
<h2>OPTIONS</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td>
<td width="95%">
<p><b>Command Line Invocation</b></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>Zero or more input files may be specified at the end of
the command line. A dash may be supplied in lieu of a file
name to indicate that input should be taken from the
standard input. If none are specified, <b>ush.icn</b> reads
from the standard input.</p>
<!-- INDENTATION -->
<p>The following switch may preceed the input files when
<b>ush.icn</b> is invoked:</p>
</td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>&minus;s</b> <i>path</i></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="82%">
<p>Search directory specified by <i>path</i> for icode and
script files. This option may be repeated; alternatively,
several directories may be specified by enclosing
<i>path</i> in double quotes and separating directory names
with spaces (as is done for IPATH and LPATH). If a directory
name contains a space, you must both enclose <i>path</i> in
double quotes and enclose space-containing directory names
in single quotes, (e.g., &minus;s &quot;&rsquo;/path to/one
folder&rsquo; ../another_folder&quot; ). Directories
specified with the &minus;s option are searched after the
working directory and before directories specified by the
<i>USHPATH</i> environment variable.</p>
</td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="4%"></td>
<td width="95%">
<p><b>Invocation from Shell.icn( 1 ):</b></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>When invoked from <b>Shell.icn( 1 )</b>, the first
argument to <b>ush.icn</b> must be a co-expression (i.e.,
the instance of <b>Shell.icn( 1 )</b>) and the second
argument must be a list. If no third argument is specified,
input is taken from the standard input</p>
</td>
</table>
<a name="ENVIRONMENT VARIABLES"></a>
<h2>ENVIRONMENT VARIABLES</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><i>USHPATH</i></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="17%"></td>
<td width="82%">
<p>Space&minus;separated directory names searched after
those specified with the &minus;s option. Enclose spaces in
directory names in single quotes. <i>USHPATH</i> must not
contain double quotes.</p>
</td>
</table>
<a name="EXAMPLES"></a>
<h2>EXAMPLES</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>Suppose that test.shell and translated versions of
consumer.icn and producer.icn are in</p>
<!-- INDENTATION -->
<pre>  ./dist
</pre>
<!-- INDENTATION -->
<p>and suppose that <b>ush.icn</b> is invoked either
directly with</p>
<!-- INDENTATION -->
<pre>  ush -s dist
</pre>
<!-- INDENTATION -->
<p>or indirectly with</p>
<!-- INDENTATION -->
<pre>  shell -s dist -p ush
</pre>
<!-- INDENTATION -->
<p>The input lines</p>
<!-- INDENTATION -->
<pre>  . test.shell
  CONS   := consumer PROD -
  PROD   := producer CONS
  @ PROD
</pre>
<!-- INDENTATION -->
<p>invoke <b>shell.icn( 1 )</b> first with test.shell as the
input script and then with the next lines as a second
script.</p>
<!-- INDENTATION -->
<p>Execution of the above input using <b>ush.icn</b> should
produce the same results as as executing the following input
using <b>bash( 1 )</b></p>
<!-- INDENTATION -->
<pre>  { cat test.shell ; cat &lt;&lt; END
  CONS   := consumer PROD -
  PROD   := producer CONS
  @ PROD
  END
  } | shell
</pre>
<!-- INDENTATION -->
<p>except</p>
</td>
</table>
<!-- TABS -->
<table width="100%" border=0 rules="none" frame="void"
       cols="4" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">

<p>*</p>
</td>
<td width="4%"></td>
<td width="82%">

<p>you don&rsquo;t need bash</p>
</td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="1%">

<p>*</p>
</td>
<td width="4%"></td>
<td width="82%">

<p>you can decide whether you want to type the remaining
lines after you have seen the output that test.shell
produces.</p>
</td>
</table>
<a name="PORTABILITY"></a>
<h2>PORTABILITY</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>ush.icn</b> depends on <b>shell.icn( 1 )</b> which
depends on <b>Stream.icn( 3 )</b> which in turn depends on
classes. Thus, ush.icn is compatible with Unicon but not
Icon since Icon does not support classes. ush.icn is not
Idol-compatible because Stream.icn and shell.icn not
Idol-compatible.</p>
</td>
</table>
<a name="SEE ALSO"></a>
<h2>SEE ALSO</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>Eschenlauer, Arthur C., 2006. &quot;A Unicon Shell&quot;,
<i>The Generator</i>, Vol. 2, No. 2, pp 3-32.</p>
<!-- INDENTATION -->
<pre>  http://www.unicon.org/generator/v2n2.pdf
</pre>
<!-- INDENTATION -->
<p>Jeffery, Clinton L., 1997. <i>The MT Icon
Interpreter.</i> (Icon Project Document 169).</p>
<!-- INDENTATION -->
<pre>  http://www.cs.arizona.edu/icon/docs/ipd169.htm
</pre>
<!-- INDENTATION -->
<p><b>Stream.icn( 3 )</b>, <b>shell.icn( 1 )</b></p>
</td>
</table>
<a name="BUGS AND LIMITATIONS"></a>
<h2>BUGS AND LIMITATIONS</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>Infinite loops in tasks will prevent control being
returned to ush.icn</p>
<!-- INDENTATION -->
<p>If shell.icn aborts, ush.icn aborts instead of attempting
to restart shell.icn.</p>
<!-- INDENTATION -->
<p>At present, the parser for scripts is an integral part of
shell.icn. Thus, there is no way to specify alternative
script syntax for lines typed into ush.icn.</p>
</td>
</table>
<a name="AUTHOR"></a>
<h2>AUTHOR</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>Art Eschenlauer</p>
<!-- INDENTATION -->
<p><b>ush.icn</b> is in the public domain. The freedom of
its content is protected by the Lesser GNU public license,
version 2.1, February 1999,</p>
<!-- INDENTATION -->
<pre>  http://www.gnu.org/licenses/lgpl.html
</pre>
<!-- INDENTATION -->
<p>which means you are granted permission to use this in any
way that does not limit others&rsquo; freedom to use it.</p>
</td>
</table>
<hr>
</body>
</html>
